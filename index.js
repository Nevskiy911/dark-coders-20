import{a as d,i as u,S as f,N as p,K as m,M as h}from"./assets/vendor-B2dZQoHZ.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(r){if(r.ep)return;r.ep=!0;const t=i(r);fetch(r.href,t)}})();const n={sliderContainer:document.querySelector(".swiper-wrapper"),slider:document.querySelector(".swiper"),reviewsSection:document.querySelector("#reviews")},w="https://portfolio-js.b.goit.study/api",y="/reviews",g=async()=>{try{return(await d.get(w+y)).data}catch{return E(),null}},v=()=>{n.sliderContainer.innerHTML='<li class="swiper-placeholder">Not found</li>',n.slider.classList.remove("swiper")},b=()=>{u.error({title:"Error",message:"Failed to fetch reviews. Please try again later.",position:"bottomRight",timeout:3e3})},E=()=>{const e=new IntersectionObserver(s=>{s.forEach(i=>{i.isIntersecting&&(b(),e.disconnect())})},{threshold:.5});e.observe(n.reviewsSection)},S=e=>e.map(({author:s,avatar_url:i,review:o})=>`
    <li class="reviews-card swiper-slide">
        <img class="reviews-img" src="${i}" alt="${s}" />
        <h3 class="reviews-title">${s}</h3>
        <p class="reviews-text">${o}</p>
      </li>
  `).join(""),a=()=>{const e=document.querySelectorAll(".swiper-slide");let s=0;const i=new IntersectionObserver(o=>{const r=o.filter(t=>t.isIntersecting);r.length>1?(e.forEach(t=>t.style.height="auto"),s=Math.max(...r.map(t=>t.target.offsetHeight)),r.forEach(t=>{t.target.style.height=`${s}px`})):e.forEach(t=>t.style.height="auto")},{threshold:.5});e.forEach(o=>i.observe(o))},L=async()=>{const e=await g();if(!e||e.length===0){v();return}n.sliderContainer.innerHTML=S(e),new f(".swiper",{modules:[p,m,h],slidesPerView:1,spaceBetween:16,speed:500,grabCursor:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},mousewheel:{sensitivity:1},breakpoints:{320:{slidesPerView:1,autoHeight:!0},768:{slidesPerView:2,autoHeight:!1},1440:{slidesPerView:4}},on:{init:a,slideChange:a}})};L();document.querySelector(".title-modal");document.querySelector(".text-modal");function l(){const e=document.getElementById("footer-modal");e&&(e.style.display="none",document.body.style.overflow="",document.removeEventListener("keydown",P),document.removeEventListener("click",I))}function P(e){e.key==="Escape"&&l()}function I(e){e.target.id==="footer-modal"&&l()}document.getElementById("close-btn").addEventListener("click",l);
//# sourceMappingURL=index.js.map
