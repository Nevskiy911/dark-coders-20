import{S as n,N as m,K as f,a as y,i as b,b as E}from"./assets/vendor-Cx-PsrYF.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(o){if(o.ep)return;o.ep=!0;const t=s(o);fetch(o.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{new n(".swiper-about",{modules:[m,f],spaceBetween:0,loop:!0,observer:!0,observeParents:!0,navigation:{nextEl:".swiper-button-next-about"},keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{320:{slidesPerView:2},768:{slidesPerView:3},1440:{slidesPerView:6}},on:{slideChangeTransitionEnd:e}});function e(){requestAnimationFrame(()=>{document.querySelectorAll(".swiper-slide-about").forEach(i=>{i.style.backgroundColor="",i.style.color="white"});const s=document.querySelector(".swiper-slide-active");s&&(s.style.backgroundColor="#c6e327",s.style.color="black")})}e(),document.querySelectorAll(".accordion-item").forEach((s,i)=>{const o=s.querySelector(".accordion-header"),t=s.querySelector(".accordion-content"),l=o.querySelector(".arrow");t.style.overflow="hidden",t.style.transition="max-height 0.3s ease-in-out",i===0?(s.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px",l.style.transform="rotate(180deg)"):(t.style.maxHeight="0",l.style.transform="rotate(0deg)"),o.addEventListener("click",()=>{s.classList.contains("active")?(s.classList.remove("active"),t.style.maxHeight="0",l.style.transform="rotate(0deg)"):(s.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px",l.style.transform="rotate(180deg)")})})});new n(".projects-swiper",{modules:[m,f],loop:!1,spaceBetween:20,slidesPerView:1,navigation:{nextEl:".projects-swiper-button-next",prevEl:".projects-swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},on:{slideChange:function(){n.isEnd?n.navigation.nextEl.disabled=!0:n.navigation.nextEl.disabled=!1,n.isBeginning?n.navigation.prevEl.disabled=!0:n.navigation.prevEl.disabled=!1}}});function L(e){for(let r=e.length-1;r>0;r--){const s=Math.floor(Math.random()*(r+1));[e[r],e[s]]=[e[s],e[r]]}return e}const x=document.querySelectorAll(".marquee__inner");x.forEach(e=>{const r=Array.from(e.children),s=L(r);e.innerHTML="",s.forEach(i=>{e.appendChild(i)})});const u={sliderContainer:document.querySelector(".swiper-wrapper-reviews"),slider:document.querySelector(".swiper-reviews"),reviewsSection:document.querySelector("#reviews")},S="https://portfolio-js.b.goit.study/api",q="/reviews",C=async()=>{try{return(await y.get(S+q)).data}catch{return k(),null}},P=()=>{u.sliderContainer.innerHTML='<li class="swiper-placeholder">Not found</li>',u.slider.classList.remove("swiper-reviews")},I=()=>{b.error({title:"Error",message:"Failed to fetch reviews. Please try again later.",position:"bottomRight",timeout:3e3})},k=()=>{const e=new IntersectionObserver(r=>{r.forEach(s=>{s.isIntersecting&&(I(),e.disconnect())})},{threshold:.5});e.observe(u.reviewsSection)},H=e=>e.map(({author:r,avatar_url:s,review:i})=>`
    <li class="reviews-card swiper-slide">
        <img class="reviews-img" src="${s}" alt="${r}" />
        <h3 class="reviews-title">${r}</h3>
        <p class="reviews-text">${i}</p>
      </li>
  `).join(""),v=()=>{const e=document.querySelectorAll(".reviews-card");let r=0;const s=new IntersectionObserver(i=>{const o=i.filter(t=>t.isIntersecting);o.length>1?(e.forEach(t=>t.style.height="auto"),r=Math.max(...o.map(t=>t.target.offsetHeight)),o.forEach(t=>{t.target.style.height=`${r}px`})):e.forEach(t=>t.style.height="auto")},{threshold:.5});e.forEach(i=>s.observe(i))},V=async()=>{const e=await C();if(!e||e.length===0){P();return}u.sliderContainer.innerHTML=H(e),new n(".swiper-reviews",{modules:[m,f],slidesPerView:1,spaceBetween:16,speed:500,grabCursor:!0,navigation:{nextEl:".swiper-button-reviews-next",prevEl:".swiper-button-reviews-prev"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{320:{slidesPerView:1,autoHeight:!0},768:{slidesPerView:2,autoHeight:!1},1440:{slidesPerView:4}},on:{init:v,slideChange:v}})};V();document.querySelector(".title-modal");document.querySelector(".text-modal");function M(e){const r=document.getElementById(e);if(!r){iziToast.error({title:"Modal not found:",message:e,position:"center",timeout:1e4});return}r.style.display="flex",document.body.style.overflow="hidden",document.addEventListener("keydown",g),document.addEventListener("click",w)}function p(){const e=document.getElementById("footer-modal");e&&(e.style.display="none",document.body.style.overflow="",document.removeEventListener("keydown",g),document.removeEventListener("click",w))}function g(e){e.key==="Escape"&&p()}function w(e){e.target.id==="footer-modal"&&p()}document.getElementById("close-btn").addEventListener("click",p);const A={form:document.querySelector(".contact-form"),email:document.querySelector(".email"),message:document.querySelector(".message")},{form:d,email:a,message:c}=A,B=y.create({baseURL:"https://portfolio-js.b.goit.study/api"});d.addEventListener("submit",async e=>{e.preventDefault();const r=d.elements.email.value.trim(),s=d.elements.comments.value.trim(),i=await N(r,s);i.status===201?(M(i.data),d.reset(),h()):E.fire({title:"Sorry, an error occurred",text:"Please, correct the data and try again!",color:"#fafafa",background:"#c6e327",width:"300px",timer:4e3,timerProgressBar:!0,customClass:{confirmButton:"custom-ok-button"}})});async function N(e,r){let s;try{s=await B.post("/requests",{email:e,comment:r})}catch(i){console.log(i),s=i}return s}a.addEventListener("input",function(){a.value.length>0?a.validity.valid?(a.classList.remove("error"),a.classList.add("success"),c.textContent="Success!",c.className="message success-text"):(a.classList.remove("success"),a.classList.add("error"),c.textContent="Invalid email, try again",c.className="message error-text"):h()});function h(){a.value="",a.classList.remove("success","error"),c.textContent="",c.className="message"}
//# sourceMappingURL=index.js.map
