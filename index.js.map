{"version":3,"file":"index.js","sources":["../src/js/reviews.js","../src/js/modal-work-tog.js"],"sourcesContent":["import Swiper from 'swiper';\nimport 'swiper/css';\nimport { Navigation, Keyboard, Mousewheel } from 'swiper/modules';\n\nimport axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  sliderContainer: document.querySelector('.swiper-wrapper'),\n  slider: document.querySelector('.swiper'),\n};\n\nconst BASE_URL = 'https://portfolio-js.b.goit.study/api';\nconst END_POINT = '/reviews';\n\nconst fetchReviews = async () => {\n  try {\n    const response = await axios.get(BASE_URL + END_POINT);\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: `${error}`,\n      position: 'topRight',\n    });\n    return null;\n  }\n};\n\nconst renderError = () => {\n  refs.sliderContainer.innerHTML = `<li class=\"swiper-placeholder\">Not found</li>`;\n  refs.slider.classList.remove('swiper');\n};\n\nconst createReviewsMarkup = reviews => {\n  return reviews\n    .map(\n      ({ author, avatar_url, review }) => `\n    <li class=\"reviews-card swiper-slide\">\n        <img class=\"reviews-img\" src=\"${avatar_url}\" alt=\"${author}\" height=\"48\" />\n        <h3 class=\"reviews-title\">${author}</h3>\n        <p class=\"reviews-text\">${review}</p>\n      </li>\n  `\n    )\n    .join('');\n};\n\nconst initReviews = async () => {\n  const reviews = await fetchReviews();\n  if (!reviews || reviews.length === 0) {\n    renderError();\n    return;\n  }\n\n  refs.sliderContainer.innerHTML = createReviewsMarkup(reviews);\n};\n\ninitReviews();\n\n// --------------------Swiper--------------------------\nnew Swiper('.swiper', {\n  modules: [Navigation, Keyboard, Mousewheel],\n  slidesPerView: 1,\n  spaceBetween: 16,\n  autoHeight: true,\n  speed: 700,\n  grabCursor: true,\n\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n\n  // mousewheel: {\n  //   sensitivity: 1,\n  // },\n\n  breakpoints: {\n    768: { slidesPerView: 2 },\n    1440: { slidesPerView: 4 },\n  },\n});\n","const titleModal = document.querySelector('.title-modal');\nconst textModal = document.querySelector('.text-modal');\n\nfunction openModal(modalId) {\n  const modal = document.getElementById(modalId);\n\n  if (!modal) {\n    iziToast.error({\n      title: 'Modal not found:',\n      message: modalId,\n      position: 'center',\n      timeout: 10000,\n    });\n\n    return;\n  }\n\n  modal.style.display = 'flex';\n  document.body.style.overflow = 'hidden';\n\n  document.addEventListener('keydown', handleKeydown);\n  document.addEventListener('click', handleBackdropClik);\n}\n\nfunction closeModal() {\n  const modal = document.getElementById('footer-modal');\n\n  if (modal) {\n    modal.style.display = 'none';\n    document.body.style.overflow = '';\n\n    document.removeEventListener('keydown', handleKeydown);\n    document.removeEventListener('click', handleBackdropClik);\n  }\n}\n\nfunction handleKeydown(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction handleBackdropClik(event) {\n  if (event.target.id === 'footer-modal') {\n    closeModal();\n  }\n}\n\ndocument.getElementById('close-btn').addEventListener('click', closeModal);\n"],"names":["refs","BASE_URL","END_POINT","fetchReviews","axios","error","iziToast","renderError","createReviewsMarkup","reviews","author","avatar_url","review","initReviews","Swiper","Navigation","Keyboard","Mousewheel","closeModal","modal","handleKeydown","handleBackdropClik","event"],"mappings":"oxBASA,MAAMA,EAAO,CACX,gBAAiB,SAAS,cAAc,iBAAiB,EACzD,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMC,EAAW,wCACXC,EAAY,WAEZC,EAAe,SAAY,CAC/B,GAAI,CAEF,OADiB,MAAMC,EAAM,IAAIH,EAAWC,CAAS,GACrC,IACjB,OAAQG,EAAO,CACd,OAAAC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,GAAGD,CAAK,GACjB,SAAU,UAChB,CAAK,EACM,IACX,CACA,EAEME,EAAc,IAAM,CACxBP,EAAK,gBAAgB,UAAY,gDACjCA,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,EAEMQ,EAAsBC,GACnBA,EACJ,IACC,CAAC,CAAE,OAAAC,EAAQ,WAAAC,EAAY,OAAAC,KAAa;AAAA;AAAA,wCAEFD,CAAU,UAAUD,CAAM;AAAA,oCAC9BA,CAAM;AAAA,kCACRE,CAAM;AAAA;AAAA,GAGxC,EACK,KAAK,EAAE,EAGNC,EAAc,SAAY,CAC9B,MAAMJ,EAAU,MAAMN,EAAc,EACpC,GAAI,CAACM,GAAWA,EAAQ,SAAW,EAAG,CACpCF,EAAa,EACb,MACJ,CAEEP,EAAK,gBAAgB,UAAYQ,EAAoBC,CAAO,CAC9D,EAEAI,EAAa,EAGb,IAAIC,EAAO,UAAW,CACpB,QAAS,CAACC,EAAYC,EAAUC,CAAU,EAC1C,cAAe,EACf,aAAc,GACd,WAAY,GACZ,MAAO,IACP,WAAY,GAEZ,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EAED,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EAMD,YAAa,CACX,IAAK,CAAE,cAAe,CAAG,EACzB,KAAM,CAAE,cAAe,CAAG,CAC3B,CACH,CAAC,ECzFkB,SAAS,cAAc,cAAc,EACtC,SAAS,cAAc,aAAa,EAuBtD,SAASC,GAAa,CACpB,MAAMC,EAAQ,SAAS,eAAe,cAAc,EAEhDA,IACFA,EAAM,MAAM,QAAU,OACtB,SAAS,KAAK,MAAM,SAAW,GAE/B,SAAS,oBAAoB,UAAWC,CAAa,EACrD,SAAS,oBAAoB,QAASC,CAAkB,EAE5D,CAEA,SAASD,EAAcE,EAAO,CACxBA,EAAM,MAAQ,UAChBJ,EAAY,CAEhB,CAEA,SAASG,EAAmBC,EAAO,CAC7BA,EAAM,OAAO,KAAO,gBACtBJ,EAAY,CAEhB,CAEA,SAAS,eAAe,WAAW,EAAE,iBAAiB,QAASA,CAAU"}