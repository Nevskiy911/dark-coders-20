{"version":3,"file":"index.js","sources":["../src/js/about-me.js","../src/js/reviews.js","../src/js/modal-work-tog.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n    const swiper = new Swiper(\".swiper\", {\n        spaceBetween: 0,\n        loop: true,\n        observer: true,\n        observeParents: true,\n        navigation: {\n            nextEl: \".swiper-button-next\",\n        },\n        keyboard: {\n            enabled: true,\n            onlyInViewport: false,\n        },\n        breakpoints: {\n            320: { slidesPerView: 2 },\n            768: { slidesPerView: 3 },\n            1440: { slidesPerView: 6 },\n        },\n        on: {\n            slideChangeTransitionEnd: updateFirstSlideColor,\n        },\n    });\n\n    function updateFirstSlideColor() {\n        requestAnimationFrame(() => {\n            document.querySelectorAll(\".swiper-slide\").forEach(slide => {\n                slide.style.backgroundColor = \"\";\n                slide.style.color = \"white\";\n            });\n\n            const firstVisibleSlide = document.querySelector(\".swiper-slide-active\");\n            if (firstVisibleSlide) {\n                firstVisibleSlide.style.backgroundColor = \"#c6e327\";\n                firstVisibleSlide.style.color = \"black\";\n            }\n        });\n    }\n\n    updateFirstSlideColor();\n\n    const accordionItems = document.querySelectorAll(\".accordion-item\");\n\n    accordionItems.forEach((item, index) => {\n        const header = item.querySelector(\".accordion-header\");\n        const content = item.querySelector(\".accordion-content\");\n        const arrow = header.querySelector(\".arrow\");\n\n\n        content.style.overflow = \"hidden\";\n        content.style.transition = \"max-height 0.3s ease-in-out\";\n\n        if (index === 0) {\n\n            item.classList.add(\"active\");\n            content.style.maxHeight = content.scrollHeight + \"px\";\n            arrow.style.transform = \"rotate(180deg)\";\n        } else {\n\n            content.style.maxHeight = \"0\";\n            arrow.style.transform = \"rotate(0deg)\";\n        }\n\n        header.addEventListener(\"click\", () => {\n            const isActive = item.classList.contains(\"active\");\n\n            if (isActive) {\n                item.classList.remove(\"active\");\n                content.style.maxHeight = \"0\";\n                arrow.style.transform = \"rotate(0deg)\";\n            } else {\n                item.classList.add(\"active\");\n                content.style.maxHeight = content.scrollHeight + \"px\";\n                arrow.style.transform = \"rotate(180deg)\";\n            }\n        });\n    });\n});\n\n\n","import Swiper from 'swiper';\nimport 'swiper/css';\nimport { Navigation, Keyboard, Mousewheel } from 'swiper/modules';\n\nimport axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  sliderContainer: document.querySelector('.swiper-wrapper-reviews'),\n  slider: document.querySelector('.swiper-reviews'),\n  reviewsSection: document.querySelector('#reviews'),\n};\n\nconst BASE_URL = 'https://portfolio-js.b.goit.study/api';\nconst END_POINT = '/reviews';\n\nconst fetchReviews = async () => {\n  try {\n    const response = await axios.get(BASE_URL + END_POINT);\n    return response.data;\n  } catch (error) {\n    observeErrorToast();\n    return null;\n  }\n};\n\nconst renderError = () => {\n  refs.sliderContainer.innerHTML = `<li class=\"swiper-placeholder\">Not found</li>`;\n  refs.slider.classList.remove('swiper-reviews');\n};\n\nconst errorToast = () => {\n  iziToast.error({\n    title: 'Error',\n    message: `Failed to fetch reviews. Please try again later.`,\n    position: 'bottomRight',\n    timeout: 3000,\n  });\n};\n\nconst observeErrorToast = () => {\n  const observer = new IntersectionObserver(\n    entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          errorToast();\n          observer.disconnect();\n        }\n      });\n    },\n    {\n      threshold: 0.5,\n    }\n  );\n\n  observer.observe(refs.reviewsSection);\n};\n\nconst createReviewsMarkup = reviews => {\n  return reviews\n    .map(\n      ({ author, avatar_url, review }) => `\n    <li class=\"reviews-card swiper-slide\">\n        <img class=\"reviews-img\" src=\"${avatar_url}\" alt=\"${author}\" />\n        <h3 class=\"reviews-title\">${author}</h3>\n        <p class=\"reviews-text\">${review}</p>\n      </li>\n  `\n    )\n    .join('');\n};\n\nconst setDynamicHeight = () => {\n  const slides = document.querySelectorAll('.reviews-card');\n  let maxHeight = 0;\n\n  const observer = new IntersectionObserver(\n    entries => {\n      const visibleSlides = entries.filter(entry => entry.isIntersecting);\n\n      if (visibleSlides.length > 1) {\n        slides.forEach(slide => (slide.style.height = 'auto'));\n\n        maxHeight = Math.max(\n          ...visibleSlides.map(entry => entry.target.offsetHeight)\n        );\n\n        visibleSlides.forEach(entry => {\n          entry.target.style.height = `${maxHeight}px`;\n        });\n      } else {\n        slides.forEach(slide => (slide.style.height = 'auto'));\n      }\n    },\n    { threshold: 0.5 }\n  );\n\n  slides.forEach(slide => observer.observe(slide));\n};\n\nconst initReviews = async () => {\n  const reviews = await fetchReviews();\n  if (!reviews || reviews.length === 0) {\n    renderError();\n    return;\n  }\n\n  refs.sliderContainer.innerHTML = createReviewsMarkup(reviews);\n\n  new Swiper('.swiper-reviews', {\n    modules: [Navigation, Keyboard, Mousewheel],\n    slidesPerView: 1,\n    spaceBetween: 16,\n    speed: 500,\n    grabCursor: true,\n\n    navigation: {\n      nextEl: '.swiper-button-reviews-next',\n      prevEl: '.swiper-button-reviews-prev',\n    },\n\n    keyboard: {\n      enabled: true,\n      onlyInViewport: true,\n    },\n\n    mousewheel: {\n      sensitivity: 1,\n    },\n\n    breakpoints: {\n      320: { slidesPerView: 1, autoHeight: true },\n      768: { slidesPerView: 2, autoHeight: false },\n      1440: { slidesPerView: 4 },\n    },\n\n    on: {\n      init: setDynamicHeight,\n      slideChange: setDynamicHeight,\n    },\n  });\n};\n\ninitReviews();\n","const titleModal = document.querySelector('.title-modal');\nconst textModal = document.querySelector('.text-modal');\n\nfunction openModal(modalId) {\n  const modal = document.getElementById(modalId);\n\n  if (!modal) {\n    iziToast.error({\n      title: 'Modal not found:',\n      message: modalId,\n      position: 'center',\n      timeout: 10000,\n    });\n\n    return;\n  }\n\n  modal.style.display = 'flex';\n  document.body.style.overflow = 'hidden';\n\n  document.addEventListener('keydown', handleKeydown);\n  document.addEventListener('click', handleBackdropClik);\n}\n\nfunction closeModal() {\n  const modal = document.getElementById('footer-modal');\n\n  if (modal) {\n    modal.style.display = 'none';\n    document.body.style.overflow = '';\n\n    document.removeEventListener('keydown', handleKeydown);\n    document.removeEventListener('click', handleBackdropClik);\n  }\n}\n\nfunction handleKeydown(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction handleBackdropClik(event) {\n  if (event.target.id === 'footer-modal') {\n    closeModal();\n  }\n}\n\ndocument.getElementById('close-btn').addEventListener('click', closeModal);\n"],"names":["updateFirstSlideColor","slide","firstVisibleSlide","item","index","header","content","arrow","refs","BASE_URL","END_POINT","fetchReviews","axios","observeErrorToast","renderError","errorToast","iziToast","observer","entries","entry","createReviewsMarkup","reviews","author","avatar_url","review","setDynamicHeight","slides","maxHeight","visibleSlides","initReviews","Swiper","Navigation","Keyboard","Mousewheel","closeModal","modal","handleKeydown","handleBackdropClik","event"],"mappings":"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"}